(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{469:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("img",{attrs:{src:s.$themeConfig.imageAPI,alt:"墨天逸——随机二次元图片api接口（http://www.motianyi.cn/）"}}),s._v(" "),a("h2",{attrs:{id:"_1-vuepress的全局安装与局部安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-vuepress的全局安装与局部安装"}},[s._v("#")]),s._v(" 1. VuePress的全局安装与局部安装")]),s._v(" "),a("p",[s._v("如果一起使用vuepress与vuepress-theme-reco，那么它们的安装位置必须相同。否则，vuepress可能会找不到vuepress-theme-reco中使用的插件，进而报错。")]),s._v(" "),a("h2",{attrs:{id:"_2-vuepress的路径要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-vuepress的路径要求"}},[s._v("#")]),s._v(" 2. VuePress的路径要求")]),s._v(" "),a("p",[s._v("vuepress的安装路径不能有特殊符号。例如：路径内有符号"),a("code",[s._v("&")]),s._v("，那么使用npm安装vuepress时会提示部分模块无法安装；路径内有符号"),a("code",[s._v("{")]),s._v("，那么vuepress使用webpack打包时会无法复制静态文件至目标路径，但是没有错误信息。")]),s._v(" "),a("h2",{attrs:{id:"_3-markdown文件内的路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-markdown文件内的路径"}},[s._v("#")]),s._v(" 3. Markdown文件内的路径")]),s._v(" "),a("p",[s._v("我在这里以引入图片文件至markdown文件做说明。")]),s._v(" "),a("p",[s._v("要在当前markdown文件内显示图片，图片路径可以是相对于目录"),a("code",[s._v("public/")]),s._v("的静态资源路径，如"),a("code",[s._v("/img.png")]),s._v("，也可以是相对于当前目录的路径，如"),a("code",[s._v("./img.png")]),s._v("。值得注意的是，打包后有markdown文件得到的html文件内的图片路径是相对于网站根目录"),a("code",[s._v("base")]),s._v("的绝对路径。")]),s._v(" "),a("p",[s._v("如果我们如果修改了"),a("code",[s._v("config.js")]),s._v("内的配置项"),a("code",[s._v("base")]),s._v("为"),a("code",[s._v("/blog/")]),s._v("，同时还想在markdown文件内使用图片的绝对路径，那么需要把"),a("code",[s._v("/img.png")]),s._v("修改为"),a("code",[s._v("/blog/img.png")]),s._v("。当然，我们也可以用"),a("code",[s._v('<img :src="$withBase(\'/img.png\')" alt="img.png">')]),s._v("来代替"),a("code",[s._v("![img.png](/blog/img.png)")]),s._v("。")]),s._v(" "),a("p",[s._v("如果我们只想在markdown文件内使用图片的相对路径，那么就与是否修改了"),a("code",[s._v("config.js")]),s._v("内的"),a("code",[s._v("base")]),s._v("配置项无关。为了保持工程目录的干净，我们最好在markdown文件所在的文件夹内建立同级的"),a("code",[s._v("img")]),s._v("文件夹，用以提供可用相对路径找到的资源文件。例如，在内容有"),a("code",[s._v("![img.png](./img/test.png)")]),s._v("的markdown文件的所在目录下，建立"),a("code",[s._v("img/")]),s._v("文件夹，用以存放"),a("code",[s._v("test.png")]),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"_4-配置webpack使用别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置webpack使用别名"}},[s._v("#")]),s._v(" 4. 配置Webpack使用别名")]),s._v(" "),a("p",[s._v("如果要在markdown文件中引用"),a("code",[s._v(".vuepress/public")]),s._v("中的图片"),a("code",[s._v("img.png")]),s._v("，除了可以写为"),a("code",[s._v('<img :src="$withBase(\'/img.png\')" alt="img.png">')]),s._v("，还可以写成"),a("code",[s._v("![img.png](~@public/img.png)")]),s._v("。")]),s._v(" "),a("p",[s._v("只需要按照如下方式修改"),a("code",[s._v(".vuepress/config.js")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n    configureWebpack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        resolve"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            alias"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@public'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./public'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("h4",{attrs:{id:"提示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提示"}},[s._v("#")]),s._v(" 提示")]),s._v(" "),a("p",[s._v("上述代码中的变量"),a("code",[s._v("__dirname")]),s._v("表示的是配置文件"),a("code",[s._v("config.js")]),s._v("所在目录"),a("code",[s._v(".vuepress")]),s._v("在系统中的绝对路径。")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("h4",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[s._v("#")]),s._v(" 注意")]),s._v(" "),a("p",[s._v("修改"),a("code",[s._v("configureWebpack.resolve.alias")]),s._v("后，我们并不能将别名"),a("code",[s._v("~@public")]),s._v("正确应用在"),a("code",[s._v(".vuepress/styles/index.styl")]),s._v("文件中。")]),s._v(" "),a("p",[s._v("例如在"),a("code",[s._v("index.styl")]),s._v("文件内添加如下代码：")]),s._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".sidebar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("~@public/sidebar_background.png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("接着运行vuepress后，我们会得到错误信息，vuepress并不能找到"),a("code",[s._v("index.styl")]),s._v("使用的图片文件。")]),s._v(" "),a("p",[s._v("至于如何在"),a("code",[s._v("index.styl")]),s._v("文件中使用正确的路径信息引入图片，我还在寻找答案。")])]),s._v(" "),a("h2",{attrs:{id:"其它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[s._v("#")]),s._v(" 其它")]),s._v(" "),a("p",[s._v("使用vuepress搭建博客的遇到的大小问题多如牛毛，以上几个问题只是最令我不舒服的部分。我会持续记录下来，使用vuepress时遇到的较为严重的问题。")])])}),[],!1,null,null,null);t.default=n.exports}}]);