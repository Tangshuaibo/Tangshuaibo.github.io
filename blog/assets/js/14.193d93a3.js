(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{503:function(o,e,r){"use strict";r.r(e);var _=r(4),t=Object(_.a)({},(function(){var o=this,e=o.$createElement,r=o._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[r("img",{attrs:{src:o.$page.randImgAPI,alt:o.$page.randImgAlt}}),o._v(" "),r("h2",{attrs:{id:"_1-安装docker-desktop"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装docker-desktop"}},[o._v("#")]),o._v(" 1. 安装"),r("code",[o._v("Docker Desktop")])]),o._v(" "),r("p",[o._v("很简单，直接去docker官网下载安装包，一直点击“下一步”就能安装成功了。不过目前"),r("code",[o._v("Docker Desktop")]),o._v("有一些缺点：")]),o._v(" "),r("ol",[r("li",[o._v("只支持Windows 10 Pro，不支持Windows7/8以及10 Home；")]),o._v(" "),r("li",[o._v("使用时会启动Hyper-V，导致VMware/VirtualBox不能正常使用；")]),o._v(" "),r("li",[o._v("只能安装在本地磁盘C，而且软件体积非常大，强迫症难以接受。")])]),o._v(" "),r("h2",{attrs:{id:"_2-安装docker-toolbox"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装docker-toolbox"}},[o._v("#")]),o._v(" 2. 安装"),r("code",[o._v("Docker Toolbox")])]),o._v(" "),r("p",[o._v("我们通过在docker官网的不起眼的小角落里，不停地点击跳转链接，最终找到"),r("code",[o._v("Docker Toolbox")]),o._v("的"),r("a",{attrs:{href:"https://github.com/docker/toolbox",target:"_blank",rel:"noopener noreferrer"}},[o._v("项目地址"),r("OutboundLink")],1),o._v("和"),r("a",{attrs:{href:"https://github.com/docker/toolbox/releases",target:"_blank",rel:"noopener noreferrer"}},[o._v("下载地址"),r("OutboundLink")],1),o._v("。")]),o._v(" "),r("p",[r("code",[o._v("Docker Toolbox")]),o._v("默认使用VirtualBox，所以不影响VirtualBox其它虚拟机的使用；它不自动安装启用Hyper-V，软件体积很小，还能自定义安装位置，所以本地C盘还能多剩一点空间。安装教程可以参考这里："),r("a",{attrs:{href:"https://blog.csdn.net/CSDNgaoqingrui/article/details/82594844",target:"_blank",rel:"noopener noreferrer"}},[o._v("win7或win10环境DockerToolbox安装教程"),r("OutboundLink")],1),o._v("。")]),o._v(" "),r("p",[o._v("参考上面这篇文章安装"),r("code",[o._v("Docker Toolbox")]),o._v("时，我们可能还需要注意以下几点：")]),o._v(" "),r("ol",[r("li",[o._v("最好在安装"),r("code",[o._v("Docker Toolbox")]),o._v("之前就装好Git和VirtualBox客户端，因为可以有更多可以对它们的进行自定义配置的安装选项；")]),o._v(" "),r("li",[o._v("由于Kitematic客户端在没有科学手段的情况下几乎无法连接到docker官网，同时因为以后更多地使用命令行而非图形客户端控制docker，所以可以选择不安装它；")]),o._v(" "),r("li",[o._v("点击"),r("code",[o._v("Finish")]),o._v("按钮，就完成安装docker-toolbox了，但是不要直接就去运行"),r("code",[o._v("Docker Quickstart Terminal")]),o._v("。")])]),o._v(" "),r("p",[o._v("然后我们进行一些自定义工作：")]),o._v(" "),r("ol",[r("li",[o._v("找到或添加Window系统下的环境变量"),r("code",[o._v("MACHINE_STORAGE_PATH")]),o._v("，它的值是我们想要安装的docker的linux虚拟机的路径（例如："),r("code",[o._v("D:\\.docker")]),o._v("）;")]),o._v(" "),r("li",[o._v("把安装目录里的"),r("code",[o._v("boot2dcoker.iso")]),o._v("镜像文件复制到"),r("code",[o._v("MACHINE_STORAGE_PATH")]),o._v("对应路径下的目录"),r("code",[o._v("\\machine\\cache\\")]),o._v("里（例如："),r("code",[o._v("D:\\.docker\\cache\\")]),o._v("），若文件夹不存在则手动创建；")]),o._v(" "),r("li",[o._v("其实还可以修改或添加"),r("code",[o._v("DOCKER_CERT_PATH")]),o._v("/"),r("code",[o._v("DOCKER_HOST")]),o._v("/"),r("code",[o._v("DOCKER_MACHINE_NAME")]),o._v("/"),r("code",[o._v("NO_PROXY")]),o._v("等环境变量，不过现在并不推荐去做，因为在创建默认虚拟机时，docker会自动修改它们。")])]),o._v(" "),r("p",[o._v("这时我们就能点击图标以运行"),r("code",[o._v("Docker Quickstart Terminal")]),o._v("了，接着docker会自动在"),r("code",[o._v("MACHINE_STORAGE_PATH")]),o._v("指定的路径下安装docker运行所需要的linux虚拟机。")]),o._v(" "),r("p",[o._v("然后我们找到docker的linux虚拟机对应的"),r("code",[o._v("config.js")]),o._v("（路径如："),r("code",[o._v("D:\\.docker\\machines\\default\\config.json")]),o._v("），修改它的"),r("code",[o._v("RegistryMirror")]),o._v("选项为docker国内镜像源，比如"),r("code",[o._v("https://dockerhub.azk8s.cn")]),o._v("（不然docker下载镜像时会连接国外服务器，速度非常慢）。接着命令行运行"),r("code",[o._v("docker-machine stop default")]),o._v("，最后重新双击图标"),r("code",[o._v("Docker Quickstart Terminal")]),o._v("来重启docker的默认虚拟机使配置生效。现在，我们终于能愉快地使用docker了。")]),o._v(" "),r("p",[o._v("附上docker基础教程："),r("a",{attrs:{href:"https://www.runoob.com/docker/docker-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[o._v("Docker 教程 | 菜鸟教程"),r("OutboundLink")],1),o._v("。")]),o._v(" "),r("div",{staticClass:"custom-block tip"},[r("ol",[r("li",[o._v("在"),r("code",[o._v("config.js")]),o._v("中修改"),r("code",[o._v("ResigtryMirror")]),o._v("后，直接运行"),r("code",[o._v("docker-machine restart default")]),o._v("是无效的，我们仍需运行"),r("code",[o._v("Docker Quickstart Terminal")]),o._v("以重新配置docker虚拟机内的变量。")]),o._v(" "),r("li",[o._v("目前大部分docker镜像源已失效，目前我们还可以使用阿里云的镜像加速。参考"),r("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors",target:"_blank",rel:"noopener noreferrer"}},[o._v("镜像加速器"),r("OutboundLink")],1),o._v("以修改默认镜像，然后参考"),r("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/instances/credentials",target:"_blank",rel:"noopener noreferrer"}},[o._v("访问凭证"),r("OutboundLink")],1),o._v("以登录阿里云获取访问凭证。")]),o._v(" "),r("li",[o._v("若执行"),r("code",[o._v("docker-machine ssh default")]),o._v("时返回错误，可能是由于windows系统安装了可选功能"),r("code",[o._v("OpenSSH客户端")]),o._v("；如果不想卸载系统的"),r("code",[o._v("OpenSSH客户端")]),o._v("，那只好每次使用"),r("code",[o._v("Docker Quickstart Terminal")]),o._v("来访问docker虚拟机了。")])])]),o._v(" "),r("h2",{attrs:{id:"_3-使用windows10的wsl2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用windows10的wsl2"}},[o._v("#")]),o._v(" 3. 使用Windows10的"),r("code",[o._v("WSL2")])]),o._v(" "),r("p",[o._v("我们可以参考"),r("a",{attrs:{href:"https://docs.docker.com/docker-for-windows/install-windows-home/",target:"_blank",rel:"noopener noreferrer"}},[o._v("Install Docker Desktop on Windows Home"),r("OutboundLink")],1),o._v("与"),r("a",{attrs:{href:"https://docs.docker.com/docker-for-windows/wsl/",target:"_blank",rel:"noopener noreferrer"}},[o._v("Docker Desktop WSL 2 backend"),r("OutboundLink")],1),o._v("以配合"),r("code",[o._v("WSL2")]),o._v("使用"),r("code",[o._v("Docker Desktop")]),o._v("。")]),o._v(" "),r("p",[o._v("但是"),r("code",[o._v("WSL2")]),o._v("需要Windows10 2004以上版本支持，且依然使用的是Hyper-V，现阶段仍然会遇到与直接安装"),r("code",[o._v("Docker Desktop")]),o._v("相同的问题，目前尚不推荐。")]),o._v(" "),r("h2",{attrs:{id:"其它"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[o._v("#")]),o._v(" 其它🍜")]),o._v(" "),r("p",[o._v("想到或遇到再做补充……")])])}),[],!1,null,null,null);e.default=t.exports}}]);